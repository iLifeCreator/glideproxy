# Production Configuration for 2 CPU cores / 4GB RAM Server
# Оптимизированная конфигурация для сервера 2 ядра / 4ГБ ОЗУ

# Основные настройки
PORT=3000
TARGET_PROTOCOL=https
TARGET_DOMAIN=app.vkusdoterra.ru
PROXY_DOMAIN=rus.vkusdoterra.ru

# Production производительность и масштабирование (оптимизировано для 2 ядер/4ГБ)
WORKERS=2
MAX_SOCKETS=1000
MAX_FREE_SOCKETS=100

# Таймауты (оптимизированы для production)
KEEP_ALIVE_TIMEOUT=30000
HEADERS_TIMEOUT=35000
REQUEST_TIMEOUT=15000
CONNECT_TIMEOUT=5000

# Кэширование (оптимизировано под 4ГБ ОЗУ)
CACHE_MAX_AGE=7200
CACHE_MAX_SIZE=800
STATIC_CACHE_AGE=86400

# Сжатие (оптимизировано для скорости)
COMPRESSION_LEVEL=4
COMPRESSION_THRESHOLD=512

# Мониторинг и логирование (production уровень)
ENABLE_METRICS=true
ENABLE_HEALTH_CHECK=true
LOG_REQUESTS=false
LOG_LEVEL=info

# Circuit Breaker
CIRCUIT_BREAKER_THRESHOLD=0.5
CIRCUIT_BREAKER_TIMEOUT=30000
CIRCUIT_BREAKER_MIN_REQUESTS=20

# Retry механизм
RETRY_ATTEMPTS=2
RETRY_DELAY=100

# Node.js настройки для production (оптимизировано для 4ГБ)
NODE_ENV=production
UV_THREADPOOL_SIZE=8

# Настройки памяти (для 4ГБ ОЗУ сервера)
NODE_OPTIONS="--max-old-space-size=2048"

# SSL настройки (если требуется)
SSL_CERT_PATH=
SSL_KEY_PATH=