# üöÄ –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ PM2 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üéØ **–¶–µ–ª—å**: –ó–∞–ø—É—Å—Ç–∏—Ç—å `optimize-pm2-processes.sh` –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ

---

## üìã **–ú–µ—Ç–æ–¥ 1: –ß–µ—Ä–µ–∑ SSH (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**

### üîê **1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
ssh root@5.129.215.152
# –∏–ª–∏
ssh your-username@your-server-ip
```

### üìÇ **2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞**
```bash
# –ù–∞–π–¥–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –ø—Ä–æ–µ–∫—Ç–æ–º (–≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)
cd /opt/glide-proxy/optimized-proxy
# –∏–ª–∏
cd /home/glide-proxy
# –∏–ª–∏
cd /var/www/glide-proxy
# –∏–ª–∏
find / -name "enhanced-simple-proxy.js" 2>/dev/null
```

### üîÑ **3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ —Å GitHub**
```bash
# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin enhanced-proxy-v2.5
git checkout enhanced-proxy-v2.5
git pull origin enhanced-proxy-v2.5
```

### ‚úÖ **4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Å–∫—Ä–∏–ø—Ç–∞**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –µ—Å—Ç—å –∏ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π
ls -la optimize-pm2-processes.sh

# –ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å
find . -name "optimize-pm2-processes.sh"
```

### üöÄ **5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é**
```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
./optimize-pm2-processes.sh
```

---

## üìã **–ú–µ—Ç–æ–¥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞**

### üì• **–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
# 1. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞–ø—Ä—è–º—É—é —Å GitHub
wget https://raw.githubusercontent.com/iLifeCreator/glideproxy/enhanced-proxy-v2.5/optimize-pm2-processes.sh

# 2. –°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x optimize-pm2-processes.sh

# 3. –°–∫–∞—á–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
wget https://raw.githubusercontent.com/iLifeCreator/glideproxy/enhanced-proxy-v2.5/optimized-proxy/ecosystem.single.config.js

# 4. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É optimized-proxy –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
mkdir -p optimized-proxy
mv ecosystem.single.config.js optimized-proxy/

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
./optimize-pm2-processes.sh
```

---

## üìã **–ú–µ—Ç–æ–¥ 3: –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)**

### üõ†Ô∏è **–ü–æ—à–∞–≥–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 list

# 2. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pm2 stop all
pm2 delete all

# 3. –û—á–∏—Å—Ç–∏—Ç—å PM2
pm2 flush
pm2 kill

# 4. –ü–æ–¥–æ–∂–¥–∞—Ç—å 3 —Å–µ–∫—É–Ω–¥—ã
sleep 3

# 5. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å –∫–æ–¥–æ–º
cd /path/to/your/optimized-proxy

# 6. –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p logs

# 7. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 start ecosystem.single.config.js --env production

# 8. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
pm2 save

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
pm2 list
```

---

## üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –±—ç–∫–∞–ø–æ–º**

### üíæ **–ü–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PM2
pm2 dump backup_$(date +%Y%m%d_%H%M%S).json

# 2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 list > pm2_processes_backup_$(date +%Y%m%d_%H%M%S).txt

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
curl -I http://localhost:3000/ | head -1

# 4. –¢–µ–ø–µ—Ä—å –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
./optimize-pm2-processes.sh
```

### ‚Ü©Ô∏è **–û—Ç–∫–∞—Ç –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º:**

```bash
# –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞
pm2 kill
pm2 resurrect backup_YYYYMMDD_HHMMSS.json

# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ fallback –ø—Ä–æ—Ü–µ—Å—Å
pm2 start /path/to/enhanced-simple-proxy.js --name fallback-proxy
```

---

## üîç **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞**

### ‚úÖ **–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**

```bash
# 1. –°—Ç–∞—Ç—É—Å PM2 –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 list

# 2. –†–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å endpoints
curl -s http://localhost:3000/health | jq .status
curl -s http://localhost:3000/health/metrics | jq .uptime

# 3. –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–∫—Å–∏
curl -I http://localhost:3000/

# 4. –õ–æ–≥–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
pm2 logs enhanced-proxy-single --lines 20

# 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
pm2 monit
```

### üìä **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
pm2 list
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
# enhanced-proxy-single | online | ~56MB memory
```

---

## üö® **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: "Permission denied"
```bash
# –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x optimize-pm2-processes.sh
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: "pm2: command not found"
```bash
# –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2
npm install -g pm2
# –∏–ª–∏
sudo npm install -g pm2
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: "No such file or directory"
```bash
# –†–µ—à–µ–Ω–∏–µ: –ù–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
find / -name "enhanced-simple-proxy.js" 2>/dev/null
cd /path/to/found/directory
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞**: –°–∫—Ä–∏–ø—Ç –≤–∏—Å–∏—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥–µ
```bash
# –†–µ—à–µ–Ω–∏–µ: –ù–∞–∂–∞—Ç—å Ctrl+C –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤—Ä—É—á–Ω—É—é
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ú–µ—Ç–æ–¥ 3: –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã"
```

---

## üéØ **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π**

### ‚ö° **–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å SSH –¥–æ—Å—Ç—É–ø:**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl -s https://raw.githubusercontent.com/iLifeCreator/glideproxy/enhanced-proxy-v2.5/optimize-pm2-processes.sh | bash
```

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ**: –≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–∫—Ä–∏–ø—Ç –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–æ–≤–µ—Ä—è–µ—Ç–µ –∫–æ–¥—É.

---

## üìû **–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å**

### üÜò **–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:**

1. **–ü–æ–∫–∞–∂–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**
   ```bash
   pm2 list
   ps aux | grep node
   ```

2. **–ü–æ–∫–∞–∂–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:**
   ```bash
   ls -la /opt/
   find /opt -name "*.js" | grep proxy
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   pm2 logs --lines 50
   ```

4. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —è –ø–æ–º–æ–≥—É –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É!

---

## ‚úÖ **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**

–í—ã —É–≤–∏–¥–∏—Ç–µ:
- ‚úÖ **1 –ø—Ä–æ—Ü–µ—Å—Å** –≤–º–µ—Å—Ç–æ 3
- ‚úÖ **~56MB –ø–∞–º—è—Ç–∏** –≤–º–µ—Å—Ç–æ >200MB  
- ‚úÖ **–í—Å–µ endpoints —Ä–∞–±–æ—Ç–∞—é—Ç**
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

**–í–∞—à —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ–µ!** üöÄ